# O(n) Prefix sum question
class Solution(object):
    def subarraySum(self, nums, k):
        """
        :type nums: List[int]
        :type k: int
        :rtype: int
        """
        count = 0
        sums = 0
        d = {}
        d[0] = 1
        for i in range(len(nums)):
            sums += nums[i]
            if sums-k in d:
                count += d[sums-k] # sums-k = sum[0, i-1](the correct i)
            d[sums] = d.get(sums, 0) + 1 # since num may be <=0, need to include cases like [0, 0, 1], k = 1, where the addition of one number adds three subarrays.
        return count
        
